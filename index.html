<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KSL_Study (Sentence First → Reveal = Video)</title>
  <style>
    :root{
      --bg:#0b1020; --fg:#f6f7fb; --muted:#9aa3b2; --card:#121935; --accent:#6aa9ff;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Noto Sans KR,Pretendard,Malgun Gothic,sans-serif;}
    header{padding:16px 16px 8px;display:flex;gap:10px;align-items:center;justify-content:space-between;border-bottom:1px solid #1e274a;}
    header h1{font-size:18px;margin:0;font-weight:700;letter-spacing:.2px}
    .wrap{max-width:960px;margin:0 auto;padding:16px;}
    .card{background:var(--card);border:1px solid #1e274a;border-radius:16px;padding:18px;box-shadow:0 6px 24px rgba(0,0,0,.25)}
    .sentence{font-size:20px;line-height:1.6;margin:0 0 8px;}
    .keyword{font-size:14px;color:var(--muted);margin:0 0 16px}
    .controls{display:flex;flex-wrap:wrap;gap:8px;margin:14px 0 8px}
    button{appearance:none;border:1px solid #2a3563;background:#182352;color:var(--fg);padding:10px 14px;border-radius:12px;font-weight:600;cursor:pointer}
    button.primary{background:var(--accent);border-color:transparent;color:#071025}
    button.ghost{background:transparent}
    button:disabled{opacity:.5;cursor:not-allowed}
    .idx{font-size:12px;color:var(--muted)}
    .video-wrap{margin-top:14px;display:none}
    video{width:100%;max-height:60vh;border-radius:12px;background:#000}
    .grid{display:grid;grid-template-columns:1fr auto;gap:12px;align-items:center}
    .toolbar{display:flex;gap:8px;flex-wrap:wrap}
    .hint{font-size:12px;color:var(--muted);margin-top:6px}
    @media (max-width:640px){
      .sentence{font-size:18px}
      header h1{font-size:16px}
    }
  </style>
</head>
<body>
  <header>
    <h1>KSL_Study · Sentence First</h1>
    <div class="toolbar">
      <button id="btnShuffle" class="ghost" title="Shuffle current list">Shuffle</button>
      <button id="btnReset" class="ghost" title="Reset to original order">Reset</button>
    </div>
  </header>
  <div class="wrap">

    <div class="card">
      <div class="grid">
        <div>
          <p class="sentence" id="sentence">Sentence will appear here.</p>
          <p class="keyword" id="keyword">Vocabulary: <span id="kwText">—</span></p>
        </div>
        <div style="text-align:right">
          <div class="idx" id="idx">1 / 1</div>
        </div>
      </div>

      <div class="controls">
        <button id="btnPrev" title="Previous (←)">Prev</button>
        <button id="btnReveal" class="primary" title="Show Answer / Video (Space)">Show Answer (Video)</button>
        <button id="btnHide" class="ghost" title="Hide Video">Hide</button>
        <button id="btnNext" title="Next (→)">Next</button>
      </div>
      <div class="video-wrap" id="videoWrap">
        <video id="vid" playsinline controls preload="metadata"></video>
        <div class="hint">※ Autoplay may be restricted on mobile. Please press the play button.</div>
      </div>
    </div>

  </div>

<script>
/* ============================================================
   1) DATA: Add/edit items here.
      Format: { k: "Vocabulary", ex: "Example sentence", src: "Video mp4 URL" }
   ============================================================ */
const DATA_ORIGINAL = [
 { k: "가이드, 여행 안내원, 투어 여행", ex: "나는 가이드 없이 혼자서도 다른 나라를 여행할 수 있어.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202508/dABxIbntx6bIDH9a.mp4" },
{ k: "가이드, 여행 안내원, 투어 여행", ex: "농인 가이드와 함께한 여행은 정말 만족스러웠다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202508/X6fOalOgJ2B2QFmc.MP4" },
{ k: "가이드, 여행 안내원, 투어 여행", ex: "가이드가 짜 준 해외여행 일정이 아주 촘촘해서 여유가 없었다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202508/gSuoyo1vBJYUph5Q.MP4" },
{ k: "가이드, 여행 안내원, 투어 여행", ex: "나는 해외 가이드 투어 여행 상품을 예약했다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202508/ekUHovc7v28Cjo4q.MP4" },
{ k: "동행, 동행하다, 함께 가다, 함께 나아가다", ex: "너 집에만 있어서 뭐 하게! ○○이가 며칠 여행 간다는데, 함께 가!", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/WYnIl8nGktwwxF2k.MP4" },
{ k: "동행, 동행하다, 함께 가다, 함께 나아가다", ex: "나는 학교 선생님이 면담하자고 하셔서 아들과 함께 학교에 갔다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/l8SanU8Q7I1xbc2I.MP4" },
{ k: "동행, 동행하다, 함께 가다, 함께 나아가다", ex: "나는 경찰의 출석 요청에 수어통역이 필요해서 통역사와 함께 갔다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/AQUliCXA3s8gbVdQ.MP4" },
{ k: "동행, 동행하다, 함께 가다, 함께 나아가다", ex: "허리가 아프신 우리 할머니는 병원에 혼자 가실 수 없어서 내가 함께 가 드렸다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/Q57jnrSXEZmxAJEh.MP4" },
{ k: "나이롱뽕, 뽕", ex: "나는 ○○이가 나이롱뽕 규칙을 모른다고 해서 가르쳐줬다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202508/7Dd1qVykMANddZ05.mp4" },
{ k: "나이롱뽕, 뽕", ex: "나는 명절에 가족과 함께 나이롱뽕을 즐겼다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/Gdw61BpgDMtWhbvk.MP4" },
{ k: "인맥, 연줄", ex: "○○이는 세계 곳곳에 아는 사람이 많아서 여러 나라를 여행하니 참 좋겠다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/XvP5OTCiqul8cUiK.MP4" },
{ k: "인맥, 연줄", ex: "가: ○○이는 그 회사에 어떻게 취직한 거야? 나: 사실은 인맥으로 취업했대.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/qmGQ5XpUF0x1cOof.MP4" },
{ k: "인맥, 연줄", ex: "○○이는 인맥이 엄청 넓다!", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/FQm43EuVGwyThE93.MP4" },
{ k: "인맥, 연줄", ex: "인맥을 넓히고 싶으면 소극적으로 굴지 말고 적극적으로 행동해야 해.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/QZjrXwjvX728aYw6.MP4" },
{ k: "상견례", ex: "우리 아들의 상견례가 벌써 내일이라니, 긴장돼서 잠도 안 오네.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/Mx7Sx0MXXyN9Jo9u.MP4" },
{ k: "상견례", ex: "나는 양가 상견례 때 수어 통역사를 불렀다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/4odSJuX8e8APlztt.MP4" },
{ k: "상견례", ex: "남편의 패션 감각이 워낙 엉망이라서 나는 딸아이 상견례 때 입을 옷을 남편에게 사주었다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/28fVgqNhTebmYZLU.MP4" },
{ k: "상견례", ex: "상견례를 할 때 부모님들께서 좋아하실 만한 음식점이 어디 있을까?", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/W6pDHy4jTcRG2nqx.MP4" },
{ k: "기만, 기만하다, 사기, 사기를 치다", ex: "나는 ○○의 말에 속아 주식에 거금을 투자했다가 큰 손해를 입었다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/FYZcHnH7DHMbDdBA.MP4" },
{ k: "기만, 기만하다, 사기, 사기를 치다", ex: "○○는 사기 치는 게 몸에 밴 사람이다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/mCtROcyoBoRAqhhK.MP4" },
{ k: "기만, 기만하다, 사기, 사기를 치다", ex: "○○는 자기가 부자인 것처럼 상대를 기만하며 여자를 금방 꾀어낸다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/MAJM8ykHr1G6cZ3B.MP4" },
{ k: "기만, 기만하다, 사기, 사기를 치다", ex: "○○는 포대 갈이 방식으로 중국산 고춧가루를 국산이라고 속여 팔다가 적발되었다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/oQxITlHEyRkAF8YX.MP4" },
{ k: "협약, 협약하다, 동맹, 동맹하다", ex: "우리 회사는 저 호텔과 제휴를 맺어서 할인 혜택을 받을 수 있다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/YZgQL9N3E6DAchiU.MP4" },
{ k: "협약, 협약하다, 동맹, 동맹하다", ex: "미래 성장을 위해 자동차 산업과 반도체 기술 산업 간에 협약이 맺어졌다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/sesfLjnt2JYaBG3q.MP4" },
{ k: "협약, 협약하다, 동맹, 동맹하다", ex: "대학 병원과 농아인협회가 농인을 위한 서비스 제공 관련 협약을 맺었다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/h1nJLUIIvetLNR0K.MP4" },
{ k: "협약, 협약하다, 동맹, 동맹하다", ex: "나는 TV에서 한국과 미국이 자동차 무역에 관한 협약을 체결했다는 뉴스를 봤다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/7DZ8CwNpDpeE1eFg.MP4" },
{ k: "가면, 탈, 가면을 쓰다, 탈을 쓰다", ex: "나는 다양한 종류의 탈을 모으는 취미가 있다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/KPYVcQymN67ELUfM.MP4" },
{ k: "가면, 탈, 가면을 쓰다, 탈을 쓰다", ex: "나는 탈춤을 추는 아르바이트를 한다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/8CWkV3Nv58MT2dYT.MP4" },
{ k: "가면, 탈, 가면을 쓰다, 탈을 쓰다", ex: "나는 나무를 깎아 탈을 만드는 일을 한다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/7jPfdlEfUxe0IEKa.MP4" },
{ k: "가면을 쓰다, 탈을 쓰다", ex: "나는 우울증을 앓고 있지만, 티를 내지 않고 평범한 사람인 양 가면을 쓴 채 회사에 다니고 있다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/QniCVBNxkG7kSXcV.MP4" },
{ k: "가면을 쓰다, 탈을 쓰다", ex: "○○이는 회사에서 가식적으로 굴고, 아첨이 대단하다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/ytyyA4txxlYhCgax.MP4" },
{ k: "가면을 쓰다, 탈을 쓰다", ex: "나는 가식적인 ○○이를 참기 어렵다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/qTlhYZDEeCwphfez.MP4" },
{ k: "세차, 세차하다", ex: "나는 차가 너무 더러워서 세차했는데, 차가 반짝반짝 깔끔해져서 덩달아 기분이 좋아졌다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/KfGOXQwhoSvxPALK.MP4" },
{ k: "세차, 세차하다", ex: "나는 세차를 하기에는 너무 게으르다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/ZHpzThGHI8E3Yh13.MP4" },
{ k: "세차, 세차하다", ex: "나는 아들이 집에서 놀고 있어서 안 되겠다 싶은 마음에 세차 아르바이트를 하게 했다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/q2RybwtbZCuy56lj.MP4" },
{ k: "세차, 세차하다", ex: "나는 세차 업체의 사장이다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/YFDiybMcTVw4vvi9.MP4" },
{ k: "충치", ex: "나는 아들의 충치 때문에 치과에 돈을 많이 쓰고 있다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/11ewlbX5u05T6pOP.MP4" },
{ k: "충치", ex: "아들아, 과자 먹지 마. 충치 생길 수 있어.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/HyI7XCKidjgNZQak.MP4" },
{ k: "충치", ex: "내가 이가 아파서 치과에 가서 검진을 받았는데, 충치가 많았다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/jf4GWNQOTS2Ic2Hq.MP4" },
{ k: "충치", ex: "나는 양치질을 게을리해서 충치가 생겼다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/CDQa6JGFNoND3fJx.MP4" },
{ k: "냉장고, 냉동고", ex: "우리 할머니 집에는 냉장고가 4개나 있다!", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/RHveAk6pHNtXrv3y.MP4" },
{ k: "냉장고, 냉동고", ex: "결혼식을 앞두고 오빠가 냉장고를 선물로 사 줘서 정말 기뻤다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/ZvCIQX0SulGot54c.MP4" },
{ k: "냉장고, 냉동고", ex: "○○의 집들이에 초대받아 갔는데, 냉장고를 똑똑 두드리니 냉장고 속이 보이는 게 신기했다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/GD69Erem3I6bn6ra.MP4" },
{ k: "냉장고, 냉동고", ex: "냉장고를 열었으면 확실히 닫아, 열린 채로 두지 마!", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/PiAKPCrDxpl4X7gN.MP4" },
{ k: "냉장고, 냉동고", ex: "냉장고를 열자 고약한 냄새가 나길래, 냉장고가 반짝일 정도로 구석구석 청소했다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/ancFzPvdqG8A0NH4.MP4" },
{ k: "붕대, 붕대를 감다", ex: "아들의 팔에 상처가 나서 나는 서둘러 붕대를 찾았다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/GcSOs2ID9kuGNLeE.MP4" },
{ k: "붕대, 붕대를 감다", ex: "○○는 축구하다가 다른 선수와 부딪혔고, 넘어지면서 머리가 찢어져 붕대를 감았다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/CZUuiwJzaxiDd6QN.MP4" },
{ k: "붕대, 붕대를 감다", ex: "나는 오토바이를 타고 가다가 미끄러져서 팔 뼈가 부러져 팔에 깁스를 했다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/B5XW7mm67pjTBFff.MP4" },
{ k: "붕대, 붕대를 감다", ex: "가: 야, 붕대 왜 했어? 나: 어제 계단에서 넘어져서.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/ruoq1mACRanRC5jo.MP4" },
{ k: "수제비", ex: "우리 할머니의 수제비는 다른 누구의 수제비보다도 맛있다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/fO5NEEQtXiHti3Mg.MP4" },
{ k: "수제비", ex: "첫째 딸과 둘째 딸은 들깨 수제비를 먹는 걸 무척 좋아한다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/GPJ35FQZl2G1ZEH5.MP4" },
{ k: "수제비", ex: "비가 오니까 수제비를 먹고 싶다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/DAcCISW2eqY3h2Tt.MP4" },
{ k: "밀가루", ex: "집에 들어가니 아들, 딸이 밀가루를 바닥에 뿌리며 놀고 있었다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/llkLCSDtJ2MIzciI.MP4" },
{ k: "밀가루", ex: "○○이 밀가루 알레르기가 있으니 여기 말고 다른 데로 가자.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/SQK05Gv4476PHDdG.MP4" },
 { k: "붕대, 붕대를 감다", ex: "아들의 팔에 상처가 나서 나는 서둘러 붕대를 찾았다.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/GcSOs2ID9kuGNLeE.MP4" },

  // Add more items here...
];

/* ============================================================
   2) State & Utility
   ============================================================ */
let order = [...DATA_ORIGINAL.keys()];
let cur = 0;

const $sentence = document.getElementById('sentence');
const $keyword  = document.getElementById('keyword');
const $kwText   = document.getElementById('kwText');
const $idx      = document.getElementById('idx');
const $video    = document.getElementById('vid');
const $videoWrap= document.getElementById('videoWrap');
const $btnPrev  = document.getElementById('btnPrev');
const $btnNext  = document.getElementById('btnNext');
const $btnReveal= document.getElementById('btnReveal');
const $btnHide  = document.getElementById('btnHide');
const $btnShuffle=document.getElementById('btnShuffle');
const $btnReset = document.getElementById('btnReset');

function clampIndex(i){
  const n = order.length;
  if(n===0) return 0;
  return (i + n) % n;
}

function stopVideo(){
  try{ $video.pause(); }catch(e){}
  $video.removeAttribute('src');
  $video.load();
}

function hideAnswer(){
  stopVideo();
  $videoWrap.style.display = 'none';
  $btnReveal.disabled = false;
}

function showAnswer(){
  const item = DATA_ORIGINAL[ order[cur] ];
  if(!item || !item.src) return;
  $video.src = item.src;
  $videoWrap.style.display = 'block';
  $video.muted = true;
  const playPromise = $video.play();
  if(playPromise && typeof playPromise.then === 'function'){
    playPromise.catch(()=>{});
  }
  $btnReveal.disabled = true;
}

function render(){
  if(order.length === 0){
    $sentence.textContent = 'No data. Please add items in DATA_ORIGINAL.';
    $kwText.textContent = '—';
    $idx.textContent = '0 / 0';
    hideAnswer();
    return;
  }
  const i = order[cur];
  const item = DATA_ORIGINAL[i];
  $sentence.textContent = item.ex || '(No example)';
  $kwText.textContent = item.k || '(No vocab)';
  $idx.textContent = `${cur+1} / ${order.length}`;
  hideAnswer();
}

function go(delta){
  cur = clampIndex(cur + delta);
  render();
}

function shuffle(){
  order = [...DATA_ORIGINAL.keys()];
  for(let i = order.length - 1; i > 0; i--){
    const j = Math.floor(Math.random() * (i + 1));
    [order[i], order[j]] = [order[j], order[i]];
  }
  cur = 0;
  render();
  try{localStorage.setItem('ksl_order', JSON.stringify(order));}catch(e){}
}

function resetOrder(){
  order = [...DATA_ORIGINAL.keys()];
  cur = 0;
  render();
  try{localStorage.removeItem('ksl_order');}catch(e){}
}

$btnPrev.addEventListener('click', ()=>go(-1));
$btnNext.addEventListener('click', ()=>go(1));
$btnReveal.addEventListener('click', showAnswer);
$btnHide.addEventListener('click', hideAnswer);
$btnShuffle.addEventListener('click', shuffle);
$btnReset.addEventListener('click', resetOrder);

window.addEventListener('keydown', (e)=>{
  if(e.target && ['INPUT','TEXTAREA'].includes(e.target.tagName)) return;
  if(e.key === 'ArrowLeft'){ e.preventDefault(); go(-1); }
  else if(e.key === 'ArrowRight'){ e.preventDefault(); go(1); }
  else if(e.code === 'Space'){ e.preventDefault();
    if($videoWrap.style.display === 'none') showAnswer(); else hideAnswer();
  }
});

try{
  const saved = JSON.parse(localStorage.getItem('ksl_order')||'null');
  if(Array.isArray(saved) && saved.length === DATA_ORIGINAL.length){
    order = saved.slice();
  }
}catch(e){}

render();
</script>
</body>
</html>
